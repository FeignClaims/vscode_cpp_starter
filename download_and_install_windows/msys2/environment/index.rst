************************************************************************************************************************
配置 MSYS2 环境变量
************************************************************************************************************************

========================================================================================================================
配置环境变量
========================================================================================================================

打开 :menuselection:`我的电脑` (Win11 似乎改名为 :menuselection:`此电脑`), 在空白处 :KBD:`右键` 选择 :menuselection:`属性`.

在弹出的窗口中点击 :menuselection:`高级系统设置`, 之后选择 :menuselection:`高级 --> 环境变量(N)...`.

在弹出的窗口上方的 :menuselection:`用户变量` 或下方的 :menuselection:`系统变量` 中找到 :menuselection:`Path`, 左键选中它, 并点击 :menuselection:`编辑`.

此后, 根据 Windows 版本不同, 可能出现两种样式的界面:

.. tabs::

  .. tab:: 样式一

    在原 **变量值** 尾部加入英语输入法下的分号 ``;`` 后，加入 ``C:\msys64\clang64\bin`` (或 ``你在安装时自定义的 MSYS2 路径\clang64\bin``).

    以同样方式加入

    - ``C:\msys64\usr\bin`` (或 ``你在安装时自定义的 MSYS2 路径\usr\bin``)
    - ``C:\msys64`` (或 ``你在安装时自定义的 MSYS2 路径``).

    .. figure:: 环境变量样式一.png

      环境变量样式一

  .. tab:: 样式二

    点击 :menuselection:`新建(N)`, 再输入 ``C:\msys64\clang64\bin`` (或 ``你在安装时自定义的 MSYS2 路径\clang64\bin``).

    以同样方式加入

    - ``C:\msys64\usr\bin`` (或 ``你在安装时自定义的 MSYS2 路径\usr\bin``)
    - ``C:\msys64`` (或 ``你在安装时自定义的 MSYS2 路径``).

    .. figure:: 环境变量样式二.png

      环境变量样式二

.. note::

  我们一共会添加三条环境变量, 请确认都添加了.

========================================================================================================================
验证环境变量
========================================================================================================================

请通过 :KBD:`Win⊞-R` 打开 :menuselection:`运行` 窗口, 输入 ``cmd`` 并 :KBD:`回车`. 在弹出的窗口中输入以下命令并 :KBD:`回车`:

.. code-block:: bash

  clangd --version

.. code-block:: bash

  clang64

如果失败, 请重新尝试前面的环境变量设置步骤.

.. tabs::

  .. tab:: 设置成功

    .. figure:: 环境变量配置成功.png

  .. tab:: 设置失败

    .. figure:: 环境变量配置失败.png

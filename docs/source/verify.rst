#############
4.检验配置结果
#############


打开 ``test/main.cpp``。

观察诊断信息
***********

观察 ``int main()`` 函数内的 ``int x{};``， ``x`` 下方应有黄线。

- 黄色的信息为警告，表示代码写得可能不够好。
- 红色的信息为错误，表示代码无法运行。

.. note::

  - 可自动修复的警告：部分 clang-tidy 产生的警告，其警告信息后面会有 ``(fix available)``，提示可以自动修复。

    - 你可以一个一个按键修复：在代码或错误信息中选择它，将会弹出 **蓝色** 小灯泡样式（黄色小灯泡为重构代码），点击它进行修复。你也可以选中后按快捷键【Ctrl + 句号】或【Command + 句号】进行，需要按【两次】。
    - 也可以一键修复整个源文件中的警告：打开要修复的源文件，【Ctrl + Shift + P】或【Command + Shift + P】打开命令菜单，输入 ``task`` 找到【任务：运行任务(Tasks: Run Task)】，【回车】，在出现的界面中选择我配置的【Clang-Tidy：fix current file】，【回车】。这么做运行时间可能比较长，但相比于案件修复， **它甚至能自动添加头文件包含保护** 。

  - 抑制某代码区域警告的方法：如果想要抑制 clang-tidy 产生的警告，则用 ``// NOLINT`` 可以抑制该行警告，用 ``// NOLINTNEXTLINE`` 抑制下一行警告，用 ``// NOLINTBEGIN`` 和 ``// NOLINTEND`` 抑制它们之间的警告。这些都是抑制 clang-tidy 相关所有警告，如果想要抑制一部分，参考官方文档 `Clang-Tidy 抑制诊断的方法`_参考 `Clang-Tidy 抑制诊断的方法`_。

.. figure:: /_img/诊断信息示例.png

  诊断信息

通过 Code Runner 插件运行
************************

点击右上角的【播放按钮】即可。

如果配置成功，应输出 ``true``。

.. figure:: /_img/运行结果示例.png

   运行结果

调试
*****

1. 点击左边侧边栏的播放按钮，切换到【运行和调试】界面。
2. 点击上方【下箭头】选择调试任务。
3. 点击【绿色播放按钮】开始调试。

我所配置好的四种调试任务：

- ``(lldb) CMake``：CMake 项目所用的调试任务，新手不必考虑，详见 :doc:`special_announcement`。
- ``生成和调试单文件``：顾名思义，会编译单个 cpp 文件。
- ``生成和调试多文件``：会编译当前选择的文件所在目录下的所有 cpp 文件。
- ``调试已编译的 test.exe``：调试以下方式所生成的最新文件。

  - ``生成和调试单/多文件`` 所生成的文件。
  - 组成这两个调试任务的 **任务** 所生成的文件。（在 ``.vscode/tasks.json`` 文件中，请自行查询。）
  - Code Runner 运行所生成的文件。

如果配置成功，应输出 `true`。

.. figure:: /_img/调试.png

   调试操作步骤
